<!-- <img
  class="rounded mx-auto d-block img-fluid bg-light"
  src="/assets/loading_Gif.gif"
  id="Loading"
  width="100%"
  height="100%"
  *ngIf="loading"
/> -->
<ngx-spinner size = "medium" template="<img src='assets/loading_ball.gif' />" [fullScreen] = "true"><p style="color: white" ><br/> Loading... </p></ngx-spinner>

<div class="mx-5 d-flex justify-content-center">
  <div class="row g-1 m-lg-5 d-flex justify-content-center">
    <div
      style="
        text-align: center;
        border-top: 2px solid black;
        margin-bottom: 10px;
      "
    >
      <div
        style="
          display: inline-block;
          position: relative;
          top: -10px;
          background-color: white;
          padding: 0px 10px;
          font-size: 25px;
        "
      >
        Past Orders
      </div>
    </div>
    <!-- (click)="Open_Panel(arr.id)" -->
    <mat-accordion class="row g-5 m-lg-5 d-flex justify-content-center">
      <mat-expansion-panel *ngFor="let arr of PastOrderArr; let i = index">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <img
              src="https://img.icons8.com/cute-clipart/40/null/in-transit.png"
            />
            <small class="m-2 text-muted">Complete</small>
            <div class="vl"></div>
            <small class="text-muted">Order Date: {{ arr.order_date }}</small>
            <div class="vl"></div>
          </mat-panel-title>
          <mat-panel-description>
            <small
              >Estimate Delivered Date: {{ arr.estimate_delivery_date }}</small
            >
            <div class="vl"></div>
            <small>Order Amount: RS {{ arr.paid_amount }}</small>
            <div class="vl"></div>
            <span>{{ arr.order_items.length }} Item</span>
          </mat-panel-description>
        </mat-expansion-panel-header>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">No.</th>
              <th scope="col">Product Name</th>
              <th scope="col">Quantity</th>
              <th scope="col">Product Amount</th>
              <th scope="col">Discount Amount</th>
              <th scope="col">Total Product Amount</th>
            </tr>
          </thead>
          <tbody class="table-group-divider">
            <tr *ngFor="let item of arr.order_items; let i = index">
              <th scope="row">{{ i + 1 }}</th>
              <td>{{ item.product_name }}</td>
              <td>{{ item.qty }}</td>
              <td>{{ item.product_amount }}</td>
              <td>{{ item.discount_amount }}</td>
              <td>{{ item.product_amount * item.qty }}</td>
            </tr>
          </tbody>
        </table>
        <div></div>
      </mat-expansion-panel>
    </mat-accordion>
    <ng-container *ngIf="!PastOrderArr.length">
      <div class="fs-3 fw-bold text-danger align-items-center text-center mt-4">
        {{ username }},You haven't Ordered Previously
      </div>
    </ng-container>
  </div>
</div>
